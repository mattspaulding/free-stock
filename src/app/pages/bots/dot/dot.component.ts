import {AfterViewInit, Component, OnInit} from '@angular/core';
import {Chart} from 'chart.js';
import {Router} from "@angular/router";
import {StockService} from "../../../@core/data/stock.service";
import {UserService} from "../../../@core/data/users.service";

@Component({
  selector: 'ngx-dot',
  styleUrls: ['./dot.component.scss'],
  templateUrl: './dot.component.html',
  providers: [StockService],
})
export class DotComponent implements AfterViewInit {

  chart: any;

  constructor(private userService: UserService, private stockService: StockService, private router: Router) {
  }

  ngAfterViewInit() {
    this.getChart();
  }

  getChart() {


    var dates = [
      "2017-02-15",
      "2017-02-16",
      "2017-02-17",
      "2017-02-18",
      "2017-02-19",
      "2017-02-20",
      "2017-02-21",
      "2017-02-22",
      "2017-02-23",
      "2017-02-24",
      "2017-02-25",
      "2017-02-26",
      "2017-02-27",
      "2017-02-28",
      "2017-03-01",
      "2017-03-02",
      "2017-03-03",
      "2017-03-04",
      "2017-03-05",
      "2017-03-06",
      "2017-03-07",
      "2017-03-08",
      "2017-03-09",
      "2017-03-10",
      "2017-03-11",
      "2017-03-12",
      "2017-03-13",
      "2017-03-14",
      "2017-03-15",
      "2017-03-16",
      "2017-03-17",
      "2017-03-18",
      "2017-03-19",
      "2017-03-20",
      "2017-03-21",
      "2017-03-22",
      "2017-03-23",
      "2017-03-24",
      "2017-03-25",
      "2017-03-26",
      "2017-03-26",
      "2017-03-27",
      "2017-03-28",
      "2017-03-29",
      "2017-03-30",
      "2017-03-31",
      "2017-04-01",
      "2017-04-02",
      "2017-04-03",
      "2017-04-04",
      "2017-04-05",
      "2017-04-06",
      "2017-04-07",
      "2017-04-08",
      "2017-04-09",
      "2017-04-10",
      "2017-04-11",
      "2017-04-12",
      "2017-04-13",
      "2017-04-14",
      "2017-04-15",
      "2017-04-16",
      "2017-04-17",
      "2017-04-18",
      "2017-04-19",
      "2017-04-20",
      "2017-04-21",
      "2017-04-22",
      "2017-04-23",
      "2017-04-24",
      "2017-04-25",
      "2017-04-26",
      "2017-04-27",
      "2017-04-28",
      "2017-04-29",
      "2017-04-30",
      "2017-05-01",
      "2017-05-02",
      "2017-05-03",
      "2017-05-04",
      "2017-05-05",
      "2017-05-06",
      "2017-05-07",
      "2017-05-08",
      "2017-05-09",
      "2017-05-10",
      "2017-05-11",
      "2017-05-12",
      "2017-05-13",
      "2017-05-14",
      "2017-05-15",
      "2017-05-16",
      "2017-05-17",
      "2017-05-18",
      "2017-05-19",
      "2017-05-20",
      "2017-05-21",
      "2017-05-22",
      "2017-05-23",
      "2017-05-24",
      "2017-05-25",
      "2017-05-26",
      "2017-05-27",
      "2017-05-28",
      "2017-05-29",
      "2017-05-30",
      "2017-05-31",
      "2017-06-01",
      "2017-06-02",
      "2017-06-03",
      "2017-06-04",
      "2017-06-05",
      "2017-06-06",
      "2017-06-07",
      "2017-06-08",
      "2017-06-09",
      "2017-06-10",
      "2017-06-11",
      "2017-06-12",
      "2017-06-13",
      "2017-06-14",
      "2017-06-15",
      "2017-06-16",
      "2017-06-17",
      "2017-06-18",
      "2017-06-19",
      "2017-06-20",
      "2017-06-21",
      "2017-06-22",
      "2017-06-23",
      "2017-06-24",
      "2017-06-25",
      "2017-06-26",
      "2017-06-27",
      "2017-06-28",
      "2017-06-29",
      "2017-06-30",
      "2017-07-01",
      "2017-07-02",
      "2017-07-03",
      "2017-07-04",
      "2017-07-05",
      "2017-07-06",
      "2017-07-07",
      "2017-07-08",
      "2017-07-09",
      "2017-07-10",
      "2017-07-11",
      "2017-07-12",
      "2017-07-13",
      "2017-07-14",
      "2017-07-15",
      "2017-07-16",
      "2017-07-17",
      "2017-07-18",
      "2017-07-19",
      "2017-07-20",
      "2017-07-21",
      "2017-07-22",
      "2017-07-23",
      "2017-07-24",
      "2017-07-25",
      "2017-07-26",
      "2017-07-27",
      "2017-07-28",
      "2017-07-29",
      "2017-07-30",
      "2017-07-31",
      "2017-08-01",
      "2017-08-02",
      "2017-08-03",
      "2017-08-04",
      "2017-08-05",
      "2017-08-06",
      "2017-08-07",
      "2017-08-08",
      "2017-08-09",
      "2017-08-10",
      "2017-08-11",
      "2017-08-12",
      "2017-08-13",
      "2017-08-14",
      "2017-08-15",
      "2017-08-16",
      "2017-08-17",
      "2017-08-18",
      "2017-08-19",
      "2017-08-20",
      "2017-08-21",
      "2017-08-22",
      "2017-08-23",
      "2017-08-24",
      "2017-08-25",
      "2017-08-26",
      "2017-08-27",
      "2017-08-28",
      "2017-08-29",
      "2017-08-30",
      "2017-08-31",
      "2017-09-01",
      "2017-09-02",
      "2017-09-03",
      "2017-09-04",
      "2017-09-05",
      "2017-09-06",
      "2017-09-07",
      "2017-09-08",
      "2017-09-09",
      "2017-09-10",
      "2017-09-11",
      "2017-09-12",
      "2017-09-13",
      "2017-09-14",
      "2017-09-15",
      "2017-09-16",
      "2017-09-17",
      "2017-09-18",
      "2017-09-19",
      "2017-09-20",
      "2017-09-21",
      "2017-09-22",
      "2017-09-23",
      "2017-09-24",
      "2017-09-25",
      "2017-09-26",
      "2017-09-27",
      "2017-09-28",
      "2017-09-29",
      "2017-09-30",
      "2017-10-01",
      "2017-10-02",
      "2017-10-03",
      "2017-10-04",
      "2017-10-05",
      "2017-10-06",
      "2017-10-07",
      "2017-10-08",
      "2017-10-09",
      "2017-10-10",
      "2017-10-11",
      "2017-10-12",
      "2017-10-13",
      "2017-10-14",
      "2017-10-15",
      "2017-10-16",
      "2017-10-17",
      "2017-10-18",
      "2017-10-19",
      "2017-10-20",
      "2017-10-21",
      "2017-10-22",
      "2017-10-23",
      "2017-10-24",
      "2017-10-25",
      "2017-10-26",
      "2017-10-27",
      "2017-10-28",
      "2017-10-30",
      "2017-10-31",
      "2017-11-01",
      "2017-11-02",
      "2017-11-03",
      "2017-11-04",
      "2017-11-05",
      "2017-11-06",
      "2017-11-07",
      "2017-11-08",
      "2017-11-09",
      "2017-11-10",
      "2017-11-11",
      "2017-11-12",
      "2017-11-13",
      "2017-11-14",
      "2017-11-15",
      "2017-11-16",
      "2017-11-17",
      "2017-11-18",
      "2017-11-19",
      "2017-11-20",
      "2017-11-21",
      "2017-11-22",
      "2017-11-23",
      "2017-11-24",
      "2017-11-25",
      "2017-11-26",
      "2017-11-27",
      "2017-11-28",
      "2017-11-29",
      "2017-11-30",
      "2017-12-01",
      "2017-12-02",
      "2017-12-03",
      "2017-12-04",
      "2017-12-05",
      "2017-12-06",
      "2017-12-07",
      "2017-12-08",
      "2017-12-09",
      "2017-12-10",
      "2017-12-11",
      "2017-12-12",
      "2017-12-13",
      "2017-12-14",
      "2017-12-15",
      "2017-12-16",
      "2017-12-17",
      "2017-12-18",
      "2017-12-19",
      "2017-12-20",
      "2017-12-21",
      "2017-12-22",
      "2017-12-23",
      "2017-12-24",
      "2017-12-25",
      "2017-12-26",
      "2017-12-27",
      "2017-12-28",
      "2017-12-29",
      "2017-12-30",
      "2017-12-31",
      "2018-01-01",
      "2018-01-02",
      "2018-01-03",
      "2018-01-04",
      "2018-01-05",
      "2018-01-06",
      "2018-01-07",
      "2018-01-08",
      "2018-01-09",
      "2018-01-10",
      "2018-01-11",
      "2018-01-12",
      "2018-01-13",
      "2018-01-14",
      "2018-01-15",
      "2018-01-16",
      "2018-01-17",
      "2018-01-18",
      "2018-01-19",
      "2018-01-20",
      "2018-01-21",
      "2018-01-22",
      "2018-01-23",
      "2018-01-24",
      "2018-01-25",
      "2018-01-26",
      "2018-01-27",
      "2018-01-28",
      "2018-01-29",
      "2018-01-30",
      "2018-01-31",
      "2018-02-01",
      "2018-02-02",
      "2018-02-03",
      "2018-02-04",
      "2018-02-05",
      "2018-02-06",
      "2018-02-07",
      "2018-02-08",
      "2018-02-09",
      "2018-02-10",
      "2018-02-11",
      "2018-02-12",
      "2018-02-13",
      "2018-02-14",
      "2018-02-15"
    ];
    var prices = [
      12.97,
      12.95,
      12.72,
      12.83,
      12.82,
      12.52,
      12.77,
      12.69,
      13.13,
      13.11,
      13.57,
      14.59,
      15.55,
      16.07,
      17.549999,
      19.08,
      19.48,
      18.610001,
      19.219999,
      19.75,
      18.91,
      16.540001,
      17.709999,
      19.129999,
      21.450001,
      23.309999,
      28.450001,
      28.58,
      35.18,
      45.509998,
      44.48,
      34,
      43.119999,
      42.509998,
      42.669998,
      41.650002,
      43.200001,
      53.189999,
      50.619999,
      50.630001,
      49.060001,
      50.25,
      53.07,
      51.91,
      49.91,
      50.599998,
      48.549999,
      44.130001,
      44.43,
      44.900002,
      43.23,
      42.310001,
      44.369999,
      43.720001,
      43.740002,
      43.740002,
      46.380001,
      49.970001,
      47.32,
      48.889999,
      48.220001,
      47.939999,
      49.880001,
      47.880001,
      49.360001,
      48.27,
      48.41,
      48.75,
      49.939999,
      50.09,
      53.279999,
      63.139999,
      72.419998,
      69.830002,
      79.830002,
      77.529999,
      77.25,
      80.370003,
      94.550003,
      90.790001,
      94.82,
      90.459999,
      88.389999,
      86.269997,
      87.830002,
      88.199997,
      85.150002,
      87.959999,
      88.720001,
      90.32,
      87.800003,
      86.980003,
      95.879997,
      124.379997,
      123.059998,
      148,
      160.389999,
      169.5,
      193.029999,
      177.330002,
      162.830002,
      156.630005,
      172.860001,
      194.169998,
      228.580002,
      228.639999,
      220.699997,
      222.039993,
      224.300003,
      244.960007,
      247.75,
      264.26001,
      255.770004,
      259.410004,
      279.109985,
      335.950012,
      339.679993,
      394.660004,
      388.089996,
      343.839996,
      344.679993,
      353.609985,
      368.100006,
      351.529999,
      358.200012,
      350.529999,
      325.299988,
      320.970001,
      326.850006,
      304.540009,
      279.359985,
      253.679993,
      286.140015,
      315.859985,
      292.899994,
      280.679993,
      261,
      283.98999,
      276.410004,
      269.049988,
      266,
      265.880005,
      240.940002,
      245.669998,
      237.720001,
      205.759995,
      190.550003,
      224.149994,
      205.410004,
      197.139999,
      169.100006,
      155.419998,
      189.970001,
      227.089996,
      194.410004,
      226.330002,
      216.330002,
      230.470001,
      228.320007,
      225.479996,
      203.589996,
      202.880005,
      202.929993,
      191.210007,
      206.139999,
      196.779999,
      201.330002,
      225.899994,
      218.119995,
      224.389999,
      220.600006,
      253.089996,
      264.559998,
      269.940002,
      296.51001,
      295.279999,
      298.279999,
      309.320007,
      308.019989,
      296.619995,
      299.160004,
      286.519989,
      301.380005,
      300.299988,
      292.619995,
      293.019989,
      298.200012,
      321.850006,
      313.369995,
      317.399994,
      325.279999,
      330.059998,
      332.859985,
      347.880005,
      347.660004,
      372.350006,
      383.859985,
      388.329987,
      391.420013,
      351.029999,
      352.450012,
      303.700012,
      317.940002,
      338.920013,
      335.369995,
      306.720001,
      303.790009,
      299.209991,
      297.950012,
      294.100006,
      275.839996,
      223.139999,
      259.570007,
      254.490005,
      258.399994,
      297.529999,
      283,
      283.559998,
      257.769989,
      262.940002,
      286.140015,
      282.600006,
      294.890015,
      288.640015,
      309.970001,
      302.769989,
      292.579987,
      302.769989,
      303.950012,
      296.809998,
      291.809998,
      291.679993,
      294.98999,
      308.329987,
      311.26001,
      309.48999,
      296.950012,
      298.459991,
      302.859985,
      302.890015,
      336.829987,
      338.809998,
      336.579987,
      334.230011,
      316.140015,
      313.540009,
      307.410004,
      303.079987,
      299.549988,
      294.029999,
      285.269989,
      296.5,
      296.350006,
      295.540009,
      296.359985,
      293.350006,
      304.040009,
      306.799988,
      303.640015,
      289.420013,
      284.920013,
      304.51001,
      300.040009,
      296.230011,
      296.820007,
      291.839996,
      307.350006,
      319.660004,
      296.859985,
      314.230011,
      306.019989,
      314.600006,
      334.720001,
      331.200012,
      330.320007,
      331.720001,
      346.649994,
      354.600006,
      367.709991,
      360.519989,
      380.839996,
      406.570007,
      470.429993,
      464.609985,
      470.540009,
      475.23999,
      466.269989,
      427.420013,
      434.850006,
      461.579987,
      457.959991,
      462.809998,
      466.929993,
      453.959991,
      422.480011,
      421.149994,
      451.73999,
      472.859985,
      436.48999,
      513.289978,
      656.52002,
      699.090027,
      693.580017,
      684.27002,
      692.830017,
      717.710022,
      785.98999,
      812.5,
      799.169983,
      789.390015,
      657.830017,
      700.440002,
      675.909973,
      723.140015,
      753.400024,
      739.940002,
      716.690002,
      739.599976,
      692.98999,
      741.130005,
      756.200012,
      861.969971,
      941.099976,
      944.830017,
      967.130005,
      1006.409973,
      1117.75,
      1136.109985,
      1289.23999,
      1248.98999,
      1139.319946,
      1261.030029,
      1385.02002,
      1359.47998,
      1278.689941,
      1050.26001,
      1024.689941,
      1012.969971,
      1037.359985,
      1150.5,
      1049.089966,
      999.640015,
      984.469971,
      1061.780029,
      1046.369995,
      1048.579956,
      1109.079956,
      1231.579956,
      1169.959961,
      1063.75,
      1111.310059,
      1026.189941,
      917.469971,
      970.869995,
      827.590027,
      695.080017,
      785.01001,
      751.809998,
      813.549988,
      877.880005,
      850.75,
      811.23999,
      865.27002,
      840.97998,
      920.109985,
      927.950012
    ]
    var buys = [
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      41.650002,
      43.200001,
      53.189999,
      50.619999,
      50.630001,
      49.060001,
      50.25,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      48.27,
      48.41,
      48.75,
      49.939999,
      50.09,
      53.279999,
      63.139999,
      72.419998,
      69.830002,
      79.830002,
      77.529999,
      77.25,
      80.370003,
      94.550003,
      90.790001,
      94.82,
      90.459999,
      88.389999,
      86.269997,
      87.830002,
      88.199997,
      85.150002,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      160.389999,
      169.5,
      193.029999,
      177.330002,
      162.830002,
      156.630005,
      172.860001,
      194.169998,
      228.580002,
      228.639999,
      220.699997,
      222.039993,
      224.300003,
      244.960007,
      247.75,
      264.26001,
      255.770004,
      259.410004,
      279.109985,
      335.950012,
      339.679993,
      394.660004,
      388.089996,
      343.839996,
      344.679993,
      353.609985,
      368.100006,
      351.529999,
      358.200012,
      350.529999,
      325.299988,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      201.330002,
      225.899994,
      218.119995,
      224.389999,
      220.600006,
      253.089996,
      264.559998,
      269.940002,
      296.51001,
      295.279999,
      298.279999,
      309.320007,
      308.019989,
      296.619995,
      299.160004,
      286.519989,
      301.380005,
      300.299988,
      292.619995,
      293.019989,
      298.200012,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      388.329987,
      391.420013,
      351.029999,
      352.450012,
      303.700012,
      317.940002,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      303.950012,
      296.809998,
      291.809998,
      291.679993,
      294.98999,
      308.329987,
      311.26001,
      309.48999,
      296.950012,
      null,
      null,
      null,
      null,
      null,
      336.579987,
      334.230011,
      316.140015,
      313.540009,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      306.019989,
      314.600006,
      334.720001,
      331.200012,
      330.320007,
      331.720001,
      346.649994,
      354.600006,
      367.709991,
      360.519989,
      380.839996,
      406.570007,
      470.429993,
      464.609985,
      470.540009,
      475.23999,
      466.269989,
      427.420013,
      434.850006,
      461.579987,
      457.959991,
      462.809998,
      466.929993,
      453.959991,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      693.580017,
      684.27002,
      692.830017,
      717.710022,
      785.98999,
      812.5,
      799.169983,
      789.390015,
      657.830017,
      700.440002,
      675.909973,
      723.140015,
      753.400024,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      1117.75,
      1136.109985,
      1289.23999,
      1248.98999,
      1139.319946,
      1261.030029,
      1385.02002,
      1359.47998,
      1278.689941,
      1050.26001,
      1024.689941,
      1012.969971,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null
    ]
    let macd=[
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      7.634230070513013,
      6.2515998910256485,
      5.376088141025548,
      4.058074660256352,
      3.3601263141024447,
      2.1980760000000146,
      1.875450070512784,
      1.5660902307694187,
      1.0466669423076382,
      0.42859091025661655,
      0.30320473076949384,
      1.2596772307692845,
      2.446534423076855,
      3.9228820833332065,
      5.3174348461537875,
      7.62269276282052,
      9.511093070512743,
      12.362632487179553,
      14.496221583333408,
      17.269425500000125,
      19.854361397436037,
      22.040706839743734,
      23.11564197435905,
      23.53724350641039,
      23.850063916666613,
      23.18929809615372,
      22.163464955128234,
      19.71948936538456,
      17.487113288461615,
      16.138136211538608,
      15.32665933333351,
      13.380123391026018,
      12.307111294872016,
      12.761599435897665,
      14.053459339743654,
      13.683333538461511,
      13.360063192307848,
      13.971409692307589,
      15.090256064102618,
      17.065189012820383,
      18.31762808333326,
      20.08211610897422,
      22.417759006409938,
      23.421155839743392,
      24.10641358974351,
      22.366478961538178,
      21.170131615384435,
      20.291091179487125,
      19.745061705128137,
      20.185891666666407,
      19.85006020512799,
      19.607752615384356,
      19.905637455128158,
      20.219870294871612,
      19.63814026282057,
      19.40583533333313,
      19.04647403205138,
      21.019423320512715,
      21.7282058205127,
      23.535574910256287,
      24.399808070512904,
      23.53013144230772,
      21.19038975641024,
      18.347376455128256,
      15.683205224358971,
      12.535831935897818,
      10.469231237179542,
      8.575383128205203,
      6.195513288461825,
      3.73403466666673,
      2.2373677307693924,
      -0.5585944551281727,
      -3.2810974038462746,
      -4.06013335897444,
      -2.6979515128207368,
      -3.2717969935899873,
      -3.502628833333574,
      -2.8507694615385617,
      -3.272243461538551,
      -4.560894756410221,
      -5.103396749999888,
      -5.603395923076846,
      -5.716280083333345,
      -5.299675198717978,
      -4.6543527948718975,
      -2.2508293910256043,
      -0.5994848717949708,
      1.669231384615614,
      4.191986532051374,
      8.602626762820705,
      11.232817929487283,
      14.50749331410259,
      17.59383925641032,
      20.0714714230769,
      22.339741275640904,
      22.782238685897255,
      22.23140577564095,
      22.053456929487083,
      20.80083046153834,
      17.28333489743602,
      14.114939294871874,
      10.450649134615674,
      6.624813346154042,
      0.7894322243591887,
      -5.566144121794878,
      -12.743263461538163,
      -18.14287899999988,
      -20.723135141025637,
      -20.909676141025443,
      -22.111085865384553,
      -23.607883096153728,
      -24.544228897435687,
      -24.608332647435873,
      -24.908400301282086,
      -25.161927846153844,
      -25.015199346153963,
      -22.86006713461552,
      -20.75590160897457,
      -19.285066256410346,
      -16.68647487179487,
      -14.074871724359127,
      -11.576667128205145,
      -10.030702596153674,
      -7.205958397435893,
      -6.135830538461505,
      -4.127881487179479,
      -1.424740044871669,
      2.821669070513053,
      6.579682250000133,
      9.12333566025643,
      9.009102076923114,
      8.042179942307826,
      8.010257391025903,
      8.654358980769302,
      8.483717608974644,
      5.976283410256315,
      4.465509987179416,
      2.301084006410406,
      0.5232640769228283,
      -2.7930811538460603,
      -5.803979871794581,
      -8.733530012820438,
      -10.209169897435572,
      -10.323721083333112,
      -9.80532367948706,
      -8.009942435897301,
      -5.6791706666665505,
      -2.2217962692305946,
      1.6981408525642792,
      5.13461460256417,
      7.740896788461441,
      10.52372037179498,
      13.119938807692165,
      16.078721262820522,
      17.891412205128177,
      17.46698974358992,
      16.26122024999995,
      14.637244935897456,
      13.436411134615128,
      17.023268833333077,
      20.192882801281826,
      22.356216423076717,
      24.11865157051261,
      25.69602145512806,
      29.276790532050995,
      34.32031802564097,
      39.70173258333318,
      46.82263032051287,
      53.29641105769224,
      60.442052333333095,
      68.13487605769228,
      65.51609617948725,
      61.47109599358987,
      58.66590301923088,
      55.889616423077086,
      53.81878823076909,
      51.0218036410256,
      48.325135858974136,
      46.29173475641005,
      43.49064204487172,
      40.759677974358965,
      36.2541675897437,
      32.49416484615358,
      27.333845051282196,
      21.726539807692234,
      20.520891224359048,
      20.79723496153838,
      21.49069444871816,
      21.12345376923099,
      19.31370820512825,
      15.513448897435865,
      11.199864352564418,
      7.62320182692315,
      7.333136923077063,
      6.122173602563862,
      5.8222390064102,
      7.597949685897447,
      8.905325121794931,
      8.636798538461562,
      8.532886980769263,
      8.206605570512465,
      7.338654378205092,
      6.551412769230637,
      7.361285903845783,
      9.156282871794474,
      11.164547634615246,
      13.010961307692469,
      14.676153743589566,
      18.011664782051184,
      21.10480207692308,
      24.64185514743599,
      29.051721833333204,
      33.40261683974359,
      37.277235724359116,
      42.54729982051276,
      46.511721782051154,
      50.5312781025641,
      55.64596236538455,
      59.295385025640826,
      62.572178692307716,
      66.8845550769231,
      71.63936905128185,
      75.06000296153843,
      76.58045682051261,
      75.1508421089743,
      76.65859670512828
    ];
    let signal=[
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      null,
      2.9067514622507185,
      2.2458186666667013,
      1.7884396766382276,
      1.60937965028495,
      1.671908069088368,
      2.0185034964387873,
      2.6570860178063134,
      3.539864111111127,
      4.797193616096895,
      6.3602636908832055,
      8.245399331908832,
      10.31147535042736,
      12.488605618945902,
      14.621134495726551,
      16.645557680199506,
      18.44859891951574,
      19.968399477920293,
      21.057380863247925,
      21.637743950142497,
      21.661931482193772,
      21.249017572649613,
      20.50301229415959,
      19.421288007122584,
      18.173495539173878,
      16.94144393019955,
      15.926350735042876,
      14.984113910968794,
      14.27751100284916,
      13.886877269943158,
      13.77044614245027,
      13.9636161068377,
      14.512227739316282,
      15.376117163105416,
      16.449023782051224,
      17.489878948717863,
      18.64799895441586,
      19.648711817663678,
      20.44856980911666,
      21.026440377492715,
      21.324204009971353,
      21.531788852563928,
      21.50600486324768,
      21.193781930911502,
      20.803168777065366,
      20.37133063319071,
      20.068181888888756,
      19.87214896866083,
      19.733858174501304,
      19.875453909544035,
      20.04682214886029,
      20.456323782763434,
      20.988774388888828,
      21.39149594301989,
      21.499331438746406,
      21.355913237891702,
      20.94228767022791,
      20.21888299287751,
      19.046639428062715,
      17.585214684472994,
      15.658541170940275,
      13.362344126068479,
      10.996481491453109,
      8.579927690171063,
      6.1767639280627815,
      3.983059641025736,
      2.2904170356125633,
      0.7636361210826155,
      -0.5783652079772487,
      -1.5835077357550693,
      -2.361983083333434,
      -3.1173455819089466,
      -3.6223236146724704,
      -3.880356783475867,
      -4.064373086182412,
      -4.3534534957265505,
      -4.507070806980096,
      -4.367981980056988,
      -4.117839247863255,
      -3.5687864871794597,
      -2.5962441217948378,
      -1.0733526203703276,
      0.7973378076923533,
      3.0444237407407906,
      5.588147569088379,
      8.33546137108269,
      11.067747000712302,
      13.665716284900327,
      15.950402328347586,
      17.93501015028489,
      19.290366116809068,
      19.962645779914485,
      19.919028666666627,
      19.125340875356112,
      17.631267755698016,
      15.23678897222227,
      12.086968660256478,
      8.200894300569908,
      3.7346347528491353,
      -0.8791392029913064,
      -5.122807096153691,
      -9.14792100284885,
      -12.932202361823228,
      -16.39542927777764,
      -19.21740315242154,
      -21.366542727920116,
      -22.746394326210748,
      -23.509985475783424,
      -23.747422363960077,
      -23.730336304843313,
      -23.416334126068403,
      -22.647288767806305,
      -21.48402685968669,
      -20.036064024216607,
      -18.38298650142456,
      -16.387878784900344,
      -14.290171139601183,
      -12.208817178774957,
      -10.06091033831908,
      -7.604606413105368,
      -5.019477844017034,
      -2.4418992457264164,
      -0.1545915562677212,
      1.8535065035613343,
      3.544197146723756,
      5.1875515377494015,
      6.5888403262109705,
      7.411176265669635,
      7.593825256410343,
      7.118425451567039,
      6.16286194230775,
      4.851508250000064,
      3.3130460484331303,
      1.4526252257835368,
      -0.6433224273503382,
      -2.7330378376067554,
      -4.48654973646713,
      -5.872711116808988,
      -6.759406080484205,
      -7.0644127856123635,
      -6.565388118233437,
      -5.349988732193576,
      -3.5194968653844776,
      -1.2158423910255276,
      1.389008707977281,
      4.265013701567012,
      7.142941995014287,
      9.714737596153896,
      11.768406098290622,
      13.206084329772088,
      14.128506166666638,
      15.159880838319042,
      16.234232219373137,
      17.260485287749198,
      18.153810877492763,
      19.020989683048306,
      20.333189770655093,
      22.33975619017076,
      25.124699262108063,
      28.834279171652256,
      32.864628307692165,
      37.33675825569786,
      42.423275992877365,
      47.02299206054121,
      50.998000342592526,
      54.26345728561252,
      56.660045996438754,
      58.22860773504274,
      58.695182548433046,
      58.142818637464366,
      56.57056112891736,
      53.83231290527063,
      51.081599771367486,
      48.2797188376068,
      45.3717479294871,
      42.19888444373211,
      38.63307906339024,
      35.244088794871736,
      32.185433139601095,
      29.429761994301998,
      26.94451885256414,
      24.561633322649616,
      22.2571090235043,
      19.891075635327727,
      17.7010041659545,
      16.101737178775036,
      14.501879665242237,
      12.83799122578355,
      11.294352918803472,
      9.936783069088355,
      8.750459772792055,
      7.974841782051322,
      7.642257472934438,
      7.610641089743543,
      7.523782850427273,
      7.661461995014154,
      8.031911313390184,
      8.428199974358828,
      8.884381772791889,
      9.555421240028332,
      10.608618773504102,
      12.041751718660837,
      13.964329581908714,
      16.464363922364555,
      19.35784513746431,
      22.482395454415936,
      25.969367919515662,
      29.69167463888885,
      33.675577345441575,
      37.85716596581195,
      42.10056407122503,
      46.31504446509967,
      50.51869260327632,
      54.76722062678058,
      58.96530587535605,
      62.74676776424493,
      65.92889224501417,
      68.83192764529907
    ];


    const el = <HTMLCanvasElement> document.getElementById('myChart');
    const ctx = el.getContext('2d');
    this.chart = new Chart(ctx, {
      // The type of chart we want to create
      type: 'line',

      // The data for our dataset
      data: {
        labels: dates,
        datasets: [{
          label: "Buy",
          borderColor: 'lightgreen',
          data: buys,
          tension: 0,
          fill: false,
          pointRadius: 0,
          borderWidth:3
        },{
          label: "Sell",
          borderColor: 'grey',
          data: prices,
          tension: 0,
          fill: false,
          pointRadius: 0,
          borderWidth:6
        }]
      },

      // Configuration options go here
      options: {}
    });

  }

}
